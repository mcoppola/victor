!function(t){var e={};function n(r){if(e[r])return e[r].exports;var s=e[r]={i:r,l:!1,exports:{}};return t[r].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)n.d(r,s,function(e){return t[e]}.bind(null,s));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";n.r(e);const r=t=>{t.width=window.innerWidth,t.height=window.innerHeight},s=t=>{window.addEventListener("resize",e=>r(t),!1),r(t)},i=t=>{window.addEventListener("load",t=>{let e=document.getElementsByTagName("canvas")[0];s(e)},!1),s(canvas)},o=t=>{var e={x:window.innerWidth/2,y:window.innerHeight/2};return t.addEventListener("mousemove",function(n){var r,s;n.pageX||n.pageY?(r=n.pageX,s=n.pageY):(r=n.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,s=n.clientY+document.body.scrollTop+document.documentElement.scrollTop),r-=t.offsetLeft,s-=t.offsetTop,e.x=r,e.y=s},!1),e},u=()=>{window.requestAnimationFrame||(window.requestAnimationFrame=window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return window.setTimeout(t,1e3/60)})};class a{constructor(t){this.canvas=t.canvas,this.ctx=this.canvas.getContext("2d"),this.width=this.canvas.width,this.height=this.canvas.height,this.depth=2e3,this.frame=[this.width,this.height,this.depth],this.shiftX=1,this.shiftY=.75,this.mouseLastPos={x:window.outerWidth/2,y:window.outerHeight/2},this.mouse=o(this.canvas),this.mouseFactor=.001}play(){this.mouseCheck(),this.clear()}clear(){this.ctx.clearRect(0,0,this.width,this.height)}mouseCheck(){this.mouse&&(this.mouse.x>this.mouseLastPos.x?this.shiftX+=this.mouseFactor*(this.mouse.x-this.mouseLastPos.x):this.mouse.x<this.mouseLastPos.x&&(this.shiftX-=this.mouseFactor*(this.mouseLastPos.x-this.mouse.x)),this.mouse.y>this.mouseLastPos.y?this.shiftY-=this.mouseFactor*(this.mouse.y-this.mouseLastPos.y):this.mouse.y<this.mouseLastPos.y&&(this.shiftY+=this.mouseFactor*(this.mouseLastPos.y-this.mouse.y)),this.mouseLastPos={x:this.mouse.x,y:this.mouse.y})}}class c{constructor(t){i(window),this.canvas=t.canvas,this.view=new a({canvas:this.canvas}),this.scene=t.scene,this.scene.setView(this.view),this.init()}init(){u();const t=(e=>{window.requestAnimationFrame(t,canvas),this.play()}).bind(this);t()}setScene(t){this.scene=t}play(){this.view.play();for(let t=0;t<this.scene.assets.length;t+=1)this.scene.assets[t].draw()}}class h{constructor(t){this.geo=t.geo||[],this.pos=t.pos||[0,0,0],this.background=t.background||!1,this.scale=t.scale||1,this.style=t.style||{fill:"#000"}}setModelScale(t){return[t[0]*this.scale,t[1]*this.scale,t[2]*this.scale]}moveToScenePos(t){return[this.pos[0]+t[0],this.pos[1]+t[1],this.pos[2]+t[2]]}pointTo3D(t){let{height:e,width:n,depth:r,shiftX:s,shiftY:i}=this.view;return[t[0]+t[2]/r*(n*s/2-t[0]),t[1]+t[2]/r*(e*i/2-t[1])]}}function l(t,e){switch(t){case 0:return function(){return e.apply(this,arguments)};case 1:return function(t){return e.apply(this,arguments)};case 2:return function(t,n){return e.apply(this,arguments)};case 3:return function(t,n,r){return e.apply(this,arguments)};case 4:return function(t,n,r,s){return e.apply(this,arguments)};case 5:return function(t,n,r,s,i){return e.apply(this,arguments)};case 6:return function(t,n,r,s,i,o){return e.apply(this,arguments)};case 7:return function(t,n,r,s,i,o,u){return e.apply(this,arguments)};case 8:return function(t,n,r,s,i,o,u,a){return e.apply(this,arguments)};case 9:return function(t,n,r,s,i,o,u,a,c){return e.apply(this,arguments)};case 10:return function(t,n,r,s,i,o,u,a,c,h){return e.apply(this,arguments)};default:throw new Error("First argument to _arity must be a non-negative integer no greater than ten")}}function f(t,e){return function(){return e.call(this,t.apply(this,arguments))}}function d(t){return null!=t&&"object"==typeof t&&!0===t["@@functional/placeholder"]}function p(t){return function e(n){return 0===arguments.length||d(n)?e:t.apply(this,arguments)}}function y(t){return function e(n,r){switch(arguments.length){case 0:return e;case 1:return d(n)?e:p(function(e){return t(n,e)});default:return d(n)&&d(r)?e:d(n)?p(function(e){return t(e,r)}):d(r)?p(function(e){return t(n,e)}):t(n,r)}}}function w(t){return function e(n,r,s){switch(arguments.length){case 0:return e;case 1:return d(n)?e:y(function(e,r){return t(n,e,r)});case 2:return d(n)&&d(r)?e:d(n)?y(function(e,n){return t(e,r,n)}):d(r)?y(function(e,r){return t(n,e,r)}):p(function(e){return t(n,r,e)});default:return d(n)&&d(r)&&d(s)?e:d(n)&&d(r)?y(function(e,n){return t(e,n,s)}):d(n)&&d(s)?y(function(e,n){return t(e,r,n)}):d(r)&&d(s)?y(function(e,r){return t(n,e,r)}):d(n)?p(function(e){return t(e,r,s)}):d(r)?p(function(e){return t(n,e,s)}):d(s)?p(function(e){return t(n,r,e)}):t(n,r,s)}}}var m=Array.isArray||function(t){return null!=t&&t.length>=0&&"[object Array]"===Object.prototype.toString.call(t)};var g=p(function(t){return!!m(t)||!!t&&("object"==typeof t&&(!function(t){return"[object String]"===Object.prototype.toString.call(t)}(t)&&(1===t.nodeType?!!t.length:0===t.length||t.length>0&&(t.hasOwnProperty(0)&&t.hasOwnProperty(t.length-1)))))}),v=function(){function t(t){this.f=t}return t.prototype["@@transducer/init"]=function(){throw new Error("init not implemented on XWrap")},t.prototype["@@transducer/result"]=function(t){return t},t.prototype["@@transducer/step"]=function(t,e){return this.f(t,e)},t}();var b=y(function(t,e){return l(t.length,function(){return t.apply(e,arguments)})});function x(t,e,n){for(var r=n.next();!r.done;){if((e=t["@@transducer/step"](e,r.value))&&e["@@transducer/reduced"]){e=e["@@transducer/value"];break}r=n.next()}return t["@@transducer/result"](e)}function S(t,e,n,r){return t["@@transducer/result"](n[r](b(t["@@transducer/step"],t),e))}var A="undefined"!=typeof Symbol?Symbol.iterator:"@@iterator";function F(t,e,n){if("function"==typeof t&&(t=function(t){return new v(t)}(t)),g(n))return function(t,e,n){for(var r=0,s=n.length;r<s;){if((e=t["@@transducer/step"](e,n[r]))&&e["@@transducer/reduced"]){e=e["@@transducer/value"];break}r+=1}return t["@@transducer/result"](e)}(t,e,n);if("function"==typeof n["fantasy-land/reduce"])return S(t,e,n,"fantasy-land/reduce");if(null!=n[A])return x(t,e,n[A]());if("function"==typeof n.next)return x(t,e,n);if("function"==typeof n.reduce)return S(t,e,n,"reduce");throw new TypeError("reduce: list must be array or iterable")}var P=w(F);function L(t,e){return function(){var n=arguments.length;if(0===n)return e();var r=arguments[n-1];return m(r)||"function"!=typeof r[t]?e.apply(this,arguments):r[t].apply(r,Array.prototype.slice.call(arguments,0,n-1))}}var T=p(L("tail",w(L("slice",function(t,e,n){return Array.prototype.slice.call(n,t,e)}))(1,1/0)));function _(){if(0===arguments.length)throw new Error("pipe requires at least one argument");return l(arguments[0].length,P(f,arguments[0],T(arguments)))}class j extends h{draw(){let t=this.view.height;for(let e=0;e<this.geo.length;e+=1){this.view.ctx.fillStyle=this.style.fill||null,this.view.ctx.strokeStyle=this.style.stroke||null,this.view.ctx.lineWidth=this.style.lineWidth||1,this.view.ctx.beginPath();for(let n=0;n<this.geo[e].length;n+=1){let r=_(this.setModelScale.bind(this),this.moveToScenePos.bind(this))(this.geo[e][n]),[s,i]=this.pointTo3D(r,this.view);0===n?this.view.ctx.moveTo(s,-i+t):this.view.ctx.lineTo(s,-i+t)}this.view.ctx.closePath(),this.style.fill&&this.view.ctx.fill(),this.style.stroke&&this.view.ctx.stroke()}}}class k extends j{constructor(t,e){let[n,r,s]=t;super({geo:[[[0,r,0],[0,r,s],t,[n,r,0]]],...e})}}class E{constructor(t){this.assets=t||[],this.orderAssetsByDepth()}setView(t){this.assets=this.assets.map(e=>Object.assign({view:t,__proto__:e.__proto__},e))}add(t){typeof t===Array?this.assets=this.assets+t:this.assets[this.assets.length]=t,this.orderAssetsByDepth()}remove(t){let e=this.assets.indexOf(t);this.assets.splice(e,1)}orderAssetsByDepth(){this.assets=this.assets.filter(t=>t.background).concat(this.assets.filter(t=>!t.background).sort((t,e)=>e.pos[2]-t.pos[2]))}}window.onload=(()=>{let t=document.getElementsByTagName("canvas")[0],e=t.getContext("2d"),n=window.outerWidth,r=window.outerHeight,s=e.createLinearGradient(0,0,n,r);s.addColorStop("0","MAGENTA"),s.addColorStop("0.3","MAGENTA"),s.addColorStop("0.5","#212AFF"),s.addColorStop("0.7","#FF1414"),s.addColorStop("1.0","#FF1414"),t.style.background=s;let i=e.createLinearGradient(0,0,n/2,r/2);i.addColorStop("0","rgba(80,80,80, 0.1)"),i.addColorStop("0.1","rgba(0,0,0, 1)"),i.addColorStop("1","rgba(80,80,80, 0.1)");let o=r/15,u=[];for(var a=0;a<22.5;a++)for(var h=0;h<15;h+=1)u.push(new k([n,o,o],{pos:[0,o*(h-1),o*a],style:{fill:(h+a%2*1)%2?"#212AFF":s}}));let l=new E(u);new c({canvas:t,scene:l})})}]);